{"ast":null,"code":"var _jsxFileName = \"D:\\\\my project\\\\stepping form\\\\stepform\\\\src\\\\pages\\\\mainpage.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Navbar from \"../components/Navbar/NavBar\";\nimport \"./mainpage.css\";\nimport PersonalInfo from \"../components/formComponents/PersonalInfo\";\nimport FavouriteBooks from \"../components/formComponents/FavouriteBooks\";\nimport Author from \"../components/formComponents/Author\";\nimport Alluserdetail from \"../components/formComponents/Alluserdetail\";\nimport { userDataAction } from \"../redux/action\";\nimport { useDispatch } from \"react-redux\";\nimport { useSelector } from \"react-redux\";\nimport Saved from \"../components/formComponents/saved\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst validfname = new RegExp(\"^[A-Za-z]{3,15}$\");\nconst validfbook = new RegExp(\"^[A-Z0-9a-z]{3,15}$\");\nconst validemail = new RegExp(\"^[a-zA-Z0-9+_.-]+@[a-zA-Z0-9.-]+$\");\nconst validphone = new RegExp(`^[\\+]?[(]?[0-9]{3}[)]?[-\\s\\.]?[0-9]{3}[-\\s\\.]?[0-9]{4,6}$`);\nexport default function Mainpage() {\n  _s();\n\n  const [emptyerror, setemptyerror] = useState(\"\");\n  const Alldata = useSelector(state => state.userdata);\n  const [error, seterror] = useState(false);\n  const [errormsg, seterrormsg] = useState({\n    fname: \"\",\n    lname: \"\",\n    email: \"\",\n    sex: \"\",\n    phone: \"\",\n    fbook: \"\",\n    sbook: \"\",\n    tbook: \"\",\n    author: \"\"\n  });\n  const dispatch = useDispatch();\n  const [step, setstep] = useState(1);\n  const [userdetail, setuserdetail] = useState({\n    fname: \"\",\n    lname: \"\",\n    email: \"\",\n    sex: \"Select Gender\",\n    phone: \"\",\n    fbook: \"\",\n    sbook: \"\",\n    tbook: \"\",\n    author: \"Select Author\"\n  });\n\n  const Nextfun = () => {\n    if (emptyerror) {\n      setemptyerror(\"\");\n    }\n\n    if (step === 1) {\n      if (!userdetail.fname || !userdetail.lname || !userdetail.email || !userdetail.phone) {\n        setemptyerror(\"Fields cannot be empty\");\n      } else if (userdetail.sex === \"Select Gender\") {\n        seterror(true);\n        seterrormsg({ ...errormsg,\n          sex: \"Select gender\"\n        });\n      } else {\n        if (!error) {\n          if (step < 5) {\n            setstep(step + 1);\n          }\n        }\n      }\n    } else if (step === 2) {\n      if (!userdetail.fbook) {\n        setemptyerror(\"Fields cannot be empty\");\n      } else {\n        if (!error) {\n          if (step < 5) {\n            setstep(step + 1);\n          }\n        }\n      }\n    } else if (step === 3) {\n      if (userdetail.author === \"Select Author\") {\n        seterror(true);\n        seterrormsg({ ...errormsg,\n          author: \"Select Author\"\n        });\n      } else {\n        if (!error) {\n          if (step < 5) {\n            setstep(step + 1);\n          }\n        }\n      }\n    } else {\n      if (!error) {\n        if (step < 5) {\n          setstep(step + 1);\n        }\n      }\n    }\n  };\n\n  const Prevfun = () => {\n    if (error) {\n      seterror(false);\n    }\n\n    if (step > 1) {\n      setstep(step - 1);\n    }\n  };\n\n  const savefun = () => {\n    dispatch(userDataAction(userdetail));\n    setstep(5);\n    setuserdetail({\n      fname: \"\",\n      lname: \"\",\n      email: \"\",\n      sex: \"Select Gender\",\n      phone: \"\",\n      fbook: \"\",\n      sbook: \"\",\n      tbook: \"\",\n      author: \"Select Author\"\n    });\n  };\n\n  const handleInput = e => {\n    const name = e.target.name;\n\n    if (emptyerror) {\n      setemptyerror(\"\");\n    }\n\n    if (name === \"fbook\" || name === \"tbook\" || name === \"tbook\") {\n      const value = e.target.value;\n      setuserdetail({ ...userdetail,\n        [name]: value\n      });\n    } else {\n      const value = e.target.value.trim();\n      setuserdetail({ ...userdetail,\n        [name]: value\n      });\n    }\n\n    if (step === 1) {\n      if (name === \"fname\") {\n        if (!validfname.test(e.target.value.trim())) {\n          seterror(true);\n          seterrormsg({ ...errormsg,\n            fname: \"Must be at least 3 character long and contain only characters\"\n          });\n        } else {\n          seterror(false);\n          seterrormsg({ ...errormsg,\n            fname: \"\"\n          });\n        }\n      } else if (name === \"lname\") {\n        if (!validfname.test(e.target.value.trim())) {\n          seterror(true);\n          seterrormsg({ ...errormsg,\n            lname: \"Must be at least 3 character long and contain only characters\"\n          });\n        } else {\n          seterror(false);\n          seterrormsg({ ...errormsg,\n            lname: \"\"\n          });\n        }\n      } else if (name === \"email\") {\n        if (!validemail.test(e.target.value.trim())) {\n          seterror(true);\n          seterrormsg({ ...errormsg,\n            email: \"enter a valid email\"\n          });\n        } else {\n          seterror(false);\n          seterrormsg({ ...errormsg,\n            email: \"\"\n          });\n        }\n      } else if (name === \"phone\") {\n        if (!validphone.test(e.target.value.trim())) {\n          seterror(true);\n          seterrormsg({ ...errormsg,\n            phone: \"enter a valid phone\"\n          });\n        } else {\n          seterror(false);\n          seterrormsg({ ...errormsg,\n            phone: \"\"\n          });\n        }\n      } else if (name === \"sex\") {\n        if (e.target.value === \"Select Gender\") {\n          seterror(true);\n          seterrormsg({ ...errormsg,\n            sex: \"select gender\"\n          });\n        } else {\n          seterror(false);\n          seterrormsg({ ...errormsg,\n            sex: \"\"\n          });\n        }\n      }\n    } else if (step === 2) {\n      if (name === \"fbook\") {\n        if (!validfbook.test(e.target.value)) {\n          seterror(true);\n          seterrormsg({ ...errormsg,\n            fbook: \"enter valid book name\"\n          });\n        } else {\n          seterror(false);\n          seterrormsg({ ...errormsg,\n            fbook: \"\"\n          });\n        }\n      }\n    } else if (step === 3) {\n      if (name === \"author\") {\n        if (e.target.value === \"Select Author\") {\n          seterror(true);\n          seterrormsg({ ...errormsg,\n            author: \"Select Author\"\n          });\n        } else {\n          seterror(false);\n          seterrormsg({ ...errormsg,\n            author: \"\"\n          });\n        }\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"MainpageWrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"innerwrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"formwrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"upperform\",\n            children: step === 1 ? /*#__PURE__*/_jsxDEV(PersonalInfo, {\n              userdetail: userdetail,\n              setuserdetail: setuserdetail,\n              handleInput: handleInput,\n              error: error,\n              errormsg: errormsg\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 17\n            }, this) : step === 2 ? /*#__PURE__*/_jsxDEV(FavouriteBooks, {\n              userdetail: userdetail,\n              setuserdetail: setuserdetail,\n              handleInput: handleInput,\n              error: error,\n              errormsg: errormsg\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 17\n            }, this) : step === 3 ? /*#__PURE__*/_jsxDEV(Author, {\n              userdetail: userdetail,\n              setuserdetail: setuserdetail,\n              handleInput: handleInput,\n              error: error,\n              errormsg: errormsg\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 17\n            }, this) : step === 4 ? /*#__PURE__*/_jsxDEV(Alluserdetail, {\n              userdetail: userdetail,\n              setuserdetail: setuserdetail,\n              handleInput: handleInput\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(Saved, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bottomform\",\n            children: [emptyerror ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"errorbox\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"emptyerror\",\n                children: emptyerror ? emptyerror : null\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 7\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 25\n            }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pagecount\",\n              children: step !== 5 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"countlist\",\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  className: step === 1 ? \"active\" : null,\n                  children: \"1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: step === 2 ? \"active\" : null,\n                  children: \"2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: step === 3 ? \"active\" : null,\n                  children: \"3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: step === 4 ? \"active\" : null,\n                  children: \"4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 19\n              }, this) : null\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bottombutton\",\n              children: step === 5 ? /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"prev btn\",\n                disabled: step === 1 ? \"disabled\" : null,\n                onClick: () => {\n                  setstep(1);\n                },\n                children: \"Home\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"prev btn\",\n                  disabled: step === 1 ? \"disabled\" : null,\n                  onClick: Prevfun,\n                  children: \"Previous\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"next btn\",\n                  onClick: step === 4 ? savefun : Nextfun,\n                  children: step === 4 ? \"Confirm & Save\" : \"Next\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Mainpage, \"6//SE7hsO5eRR1L2YRnDNy8k1Gk=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = Mainpage;\n\nvar _c;\n\n$RefreshReg$(_c, \"Mainpage\");","map":{"version":3,"sources":["D:/my project/stepping form/stepform/src/pages/mainpage.jsx"],"names":["React","useEffect","useState","Navbar","PersonalInfo","FavouriteBooks","Author","Alluserdetail","userDataAction","useDispatch","useSelector","Saved","validfname","RegExp","validfbook","validemail","validphone","Mainpage","emptyerror","setemptyerror","Alldata","state","userdata","error","seterror","errormsg","seterrormsg","fname","lname","email","sex","phone","fbook","sbook","tbook","author","dispatch","step","setstep","userdetail","setuserdetail","Nextfun","Prevfun","savefun","handleInput","e","name","target","value","trim","test"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Navbar from \"../components/Navbar/NavBar\";\r\nimport \"./mainpage.css\";\r\nimport PersonalInfo from \"../components/formComponents/PersonalInfo\";\r\nimport FavouriteBooks from \"../components/formComponents/FavouriteBooks\";\r\nimport Author from \"../components/formComponents/Author\";\r\nimport Alluserdetail from \"../components/formComponents/Alluserdetail\";\r\nimport { userDataAction } from \"../redux/action\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Saved from \"../components/formComponents/saved\";\r\n\r\nconst validfname = new RegExp(\"^[A-Za-z]{3,15}$\");\r\nconst validfbook = new RegExp(\"^[A-Z0-9a-z]{3,15}$\");\r\nconst validemail = new RegExp(\"^[a-zA-Z0-9+_.-]+@[a-zA-Z0-9.-]+$\");\r\nconst validphone = new RegExp(\r\n  `^[\\+]?[(]?[0-9]{3}[)]?[-\\s\\.]?[0-9]{3}[-\\s\\.]?[0-9]{4,6}$`\r\n);\r\n\r\nexport default function Mainpage() {\r\n  const [emptyerror, setemptyerror] = useState(\"\");\r\n  const Alldata = useSelector((state) => state.userdata);\r\n  const [error, seterror] = useState(false);\r\n  const [errormsg, seterrormsg] = useState({\r\n    fname: \"\",\r\n    lname: \"\",\r\n    email: \"\",\r\n    sex: \"\",\r\n    phone: \"\",\r\n    fbook: \"\",\r\n    sbook: \"\",\r\n    tbook: \"\",\r\n    author: \"\",\r\n  });\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const [step, setstep] = useState(1);\r\n  const [userdetail, setuserdetail] = useState({\r\n    fname: \"\",\r\n    lname: \"\",\r\n    email: \"\",\r\n    sex: \"Select Gender\",\r\n    phone: \"\",\r\n    fbook: \"\",\r\n    sbook: \"\",\r\n    tbook: \"\",\r\n    author: \"Select Author\",\r\n  });\r\n  const Nextfun = () => {\r\n    if (emptyerror) {\r\n      setemptyerror(\"\");\r\n    }\r\n    if (step === 1) {\r\n      if (\r\n        !userdetail.fname ||\r\n        !userdetail.lname ||\r\n        !userdetail.email ||\r\n        !userdetail.phone\r\n      ) {\r\n        setemptyerror(\"Fields cannot be empty\");\r\n      } else if (userdetail.sex === \"Select Gender\") {\r\n        seterror(true);\r\n        seterrormsg({ ...errormsg, sex: \"Select gender\" });\r\n      } else {\r\n        if (!error) {\r\n          if (step < 5) {\r\n            setstep(step + 1);\r\n          }\r\n        }\r\n      }\r\n    } else if (step === 2) {\r\n      if (!userdetail.fbook) {\r\n        setemptyerror(\"Fields cannot be empty\");\r\n      } else {\r\n        if (!error) {\r\n          if (step < 5) {\r\n            setstep(step + 1);\r\n          }\r\n        }\r\n      }\r\n    }else if (step === 3) {\r\n        if (userdetail.author === \"Select Author\") {\r\n        seterror(true);\r\n        seterrormsg({ ...errormsg, author: \"Select Author\" });\r\n      } else {\r\n        if (!error) {\r\n          if (step < 5) {\r\n            setstep(step + 1);\r\n          }\r\n        }\r\n      }\r\n    }\r\n     else {\r\n      if (!error) {\r\n        if (step < 5) {\r\n          setstep(step + 1);\r\n        }\r\n      }\r\n    }\r\n  };\r\n  const Prevfun = () => {\r\n    if (error) {\r\n      seterror(false);\r\n    }\r\n    if (step > 1) {\r\n      setstep(step - 1);\r\n    }\r\n  };\r\n  const savefun = () => {\r\n    dispatch(userDataAction(userdetail));\r\n    setstep(5);\r\n    setuserdetail({\r\n      fname: \"\",\r\n      lname: \"\",\r\n      email: \"\",\r\n      sex: \"Select Gender\",\r\n      phone: \"\",\r\n      fbook: \"\",\r\n      sbook: \"\",\r\n      tbook: \"\",\r\n      author: \"Select Author\",\r\n    });\r\n  };\r\n  const handleInput = (e) => {\r\n    const name = e.target.name;\r\n    if (emptyerror) {\r\n      setemptyerror(\"\");\r\n    }\r\n    if (name === \"fbook\" || name === \"tbook\" || name === \"tbook\") {\r\n      const value = e.target.value;\r\n      setuserdetail({ ...userdetail, [name]: value });\r\n    } else {\r\n      const value = e.target.value.trim();\r\n      setuserdetail({ ...userdetail, [name]: value });\r\n    }\r\n\r\n    if (step === 1) {\r\n      if (name === \"fname\") {\r\n        if (!validfname.test(e.target.value.trim())) {\r\n          seterror(true);\r\n          seterrormsg({\r\n            ...errormsg,\r\n            fname:\r\n              \"Must be at least 3 character long and contain only characters\",\r\n          });\r\n        } else {\r\n          seterror(false);\r\n          seterrormsg({ ...errormsg, fname: \"\" });\r\n        }\r\n      } else if (name === \"lname\") {\r\n        if (!validfname.test(e.target.value.trim())) {\r\n          seterror(true);\r\n          seterrormsg({\r\n            ...errormsg,\r\n            lname:\r\n              \"Must be at least 3 character long and contain only characters\",\r\n          });\r\n        } else {\r\n          seterror(false);\r\n          seterrormsg({ ...errormsg, lname: \"\" });\r\n        }\r\n      } else if (name === \"email\") {\r\n        if (!validemail.test(e.target.value.trim())) {\r\n          seterror(true);\r\n          seterrormsg({ ...errormsg, email: \"enter a valid email\" });\r\n        } else {\r\n          seterror(false);\r\n          seterrormsg({ ...errormsg, email: \"\" });\r\n        }\r\n      } else if (name === \"phone\") {\r\n        if (!validphone.test(e.target.value.trim())) {\r\n          seterror(true);\r\n          seterrormsg({ ...errormsg, phone: \"enter a valid phone\" });\r\n        } else {\r\n          seterror(false);\r\n          seterrormsg({ ...errormsg, phone: \"\" });\r\n        }\r\n      } else if (name === \"sex\") {\r\n        if (e.target.value === \"Select Gender\") {\r\n          seterror(true);\r\n          seterrormsg({ ...errormsg, sex: \"select gender\" });\r\n        } else {\r\n          seterror(false);\r\n          seterrormsg({ ...errormsg, sex: \"\" });\r\n        }\r\n      }\r\n    } else if (step === 2) {\r\n      if (name === \"fbook\") {\r\n        if (!validfbook.test(e.target.value)) {\r\n          seterror(true);\r\n          seterrormsg({ ...errormsg, fbook: \"enter valid book name\" });\r\n        } else {\r\n          seterror(false);\r\n          seterrormsg({ ...errormsg, fbook: \"\" });\r\n        }\r\n      }\r\n    } else if (step === 3) {\r\n      if (name === \"author\") {\r\n        if (e.target.value === \"Select Author\") {\r\n          seterror(true);\r\n          seterrormsg({ ...errormsg, author: \"Select Author\" });\r\n        } else {\r\n          seterror(false);\r\n          seterrormsg({ ...errormsg, author: \"\" });\r\n        }\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <div className='MainpageWrapper'>\r\n        <div className='innerwrapper'>\r\n          <div className='formwrapper'>\r\n            <div className='upperform'>\r\n              {step === 1 ? (\r\n                <PersonalInfo\r\n                  userdetail={userdetail}\r\n                  setuserdetail={setuserdetail}\r\n                  handleInput={handleInput}\r\n                  error={error}\r\n                  errormsg={errormsg}\r\n                />\r\n              ) : step === 2 ? (\r\n                <FavouriteBooks\r\n                  userdetail={userdetail}\r\n                  setuserdetail={setuserdetail}\r\n                  handleInput={handleInput}\r\n                  error={error}\r\n                  errormsg={errormsg}\r\n                />\r\n              ) : step === 3 ? (\r\n                <Author\r\n                  userdetail={userdetail}\r\n                  setuserdetail={setuserdetail}\r\n                  handleInput={handleInput}\r\n                  error={error}\r\n                  errormsg={errormsg}\r\n                />\r\n              ) : step === 4 ? (\r\n                <Alluserdetail\r\n                  userdetail={userdetail}\r\n                  setuserdetail={setuserdetail}\r\n                  handleInput={handleInput}\r\n                />\r\n              ) : (\r\n                <Saved />\r\n              )}\r\n            </div>\r\n            <div className='bottomform'>\r\n            {emptyerror?<div className=\"errorbox\">   \r\n      <span className=\"emptyerror\">{emptyerror ? emptyerror : null}</span>\r\n              </div>:null}\r\n              <div className='pagecount'>\r\n                {step !== 5 ? (\r\n                  <ul className='countlist'>\r\n                    <li className={step === 1 ? \"active\" : null}>1</li>\r\n                    <li className={step === 2 ? \"active\" : null}>2</li>\r\n                    <li className={step === 3 ? \"active\" : null}>3</li>\r\n                    <li className={step === 4 ? \"active\" : null}>4</li>\r\n                  </ul>\r\n                ) : null}\r\n              </div>\r\n              \r\n              <div className='bottombutton'>\r\n                {step === 5 ? (\r\n                  <button\r\n                    className='prev btn'\r\n                    disabled={step === 1 ? \"disabled\" : null}\r\n                    onClick={() => {\r\n                      setstep(1);\r\n                    }}>\r\n                    Home\r\n                  </button>\r\n                ) : (\r\n                  <>\r\n                    <button\r\n                      className='prev btn'\r\n                      disabled={step === 1 ? \"disabled\" : null}\r\n                      onClick={Prevfun}>\r\n                      Previous\r\n                    </button>\r\n                    <button\r\n                      className='next btn'\r\n                      onClick={step === 4 ? savefun : Nextfun}>\r\n                      {step === 4 ? \"Confirm & Save\" : \"Next\"}\r\n                    </button>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}