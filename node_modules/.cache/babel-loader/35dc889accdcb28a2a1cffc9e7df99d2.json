{"ast":null,"code":"import _defineProperty from\"D:/my project/stepping form/stepform/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/my project/stepping form/stepform/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/my project/stepping form/stepform/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import Navbar from\"../components/Navbar/NavBar\";import\"./mainpage.css\";import PersonalInfo from\"../components/formComponents/PersonalInfo\";import FavouriteBooks from\"../components/formComponents/FavouriteBooks\";import Author from\"../components/formComponents/Author\";import Alluserdetail from\"../components/formComponents/Alluserdetail\";import{userDataAction}from\"../redux/action\";import{useDispatch}from\"react-redux\";import{useSelector}from\"react-redux\";import Saved from\"../components/formComponents/saved\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var validfname=new RegExp(\"^[A-Za-z]{3,15}$\");var validfbook=new RegExp(\"^[A-Z0-9a-z]{3,15}$\");var validemail=new RegExp(\"^[a-zA-Z0-9+_.-]+@[a-zA-Z0-9.-]+$\");var validphone=new RegExp(\"^[+]?[(]?[0-9]{3}[)]?[-s.]?[0-9]{3}[-s.]?[0-9]{4,6}$\");export default function Mainpage(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),emptyerror=_useState2[0],setemptyerror=_useState2[1];var Alldata=useSelector(function(state){return state.userdata;});var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],seterror=_useState4[1];var _useState5=useState({fname:\"\",lname:\"\",email:\"\",sex:\"\",phone:\"\",fbook:\"\",sbook:\"\",tbook:\"\",author:\"\"}),_useState6=_slicedToArray(_useState5,2),errormsg=_useState6[0],seterrormsg=_useState6[1];var dispatch=useDispatch();var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),step=_useState8[0],setstep=_useState8[1];var _useState9=useState({fname:\"\",lname:\"\",email:\"\",sex:\"Select Gender\",phone:\"\",fbook:\"\",sbook:\"\",tbook:\"\",author:\"Select Author\"}),_useState10=_slicedToArray(_useState9,2),userdetail=_useState10[0],setuserdetail=_useState10[1];var Nextfun=function Nextfun(){if(emptyerror){setemptyerror(\"\");}if(step===1){if(!userdetail.fname||!userdetail.lname||!userdetail.email||!userdetail.phone){setemptyerror(\"Fields cannot be empty\");}else if(userdetail.sex===\"Select Gender\"){seterror(true);seterrormsg(_objectSpread(_objectSpread({},errormsg),{},{sex:\"Select gender\"}));}else{if(!error){if(step<5){setstep(step+1);}}}}else if(step===2){if(!userdetail.fbook){setemptyerror(\"Fields cannot be empty\");}else{if(!error){if(step<5){setstep(step+1);}}}}else if(step===3){if(userdetail.author===\"Select Author\"){seterror(true);seterrormsg(_objectSpread(_objectSpread({},errormsg),{},{author:\"Select Author\"}));}else{if(!error){if(step<5){setstep(step+1);}}}}else{if(!error){if(step<5){setstep(step+1);}}}};var Prevfun=function Prevfun(){if(error){seterror(false);}if(step>1){setstep(step-1);}};var savefun=function savefun(){dispatch(userDataAction(userdetail));setstep(5);setuserdetail({fname:\"\",lname:\"\",email:\"\",sex:\"Select Gender\",phone:\"\",fbook:\"\",sbook:\"\",tbook:\"\",author:\"Select Author\"});};var handleInput=function handleInput(e){var name=e.target.name;if(emptyerror){setemptyerror(\"\");}if(name===\"fbook\"||name===\"tbook\"||name===\"tbook\"){var value=e.target.value;setuserdetail(_objectSpread(_objectSpread({},userdetail),{},_defineProperty({},name,value)));}else{var _value=e.target.value.trim();setuserdetail(_objectSpread(_objectSpread({},userdetail),{},_defineProperty({},name,_value)));}if(step===1){if(name===\"fname\"){if(!validfname.test(e.target.value.trim())){seterror(true);seterrormsg(_objectSpread(_objectSpread({},errormsg),{},{fname:\"Must be at least 3 character long and contain only characters\"}));}else{seterror(false);seterrormsg(_objectSpread(_objectSpread({},errormsg),{},{fname:\"\"}));}}else if(name===\"lname\"){if(!validfname.test(e.target.value.trim())){seterror(true);seterrormsg(_objectSpread(_objectSpread({},errormsg),{},{lname:\"Must be at least 3 character long and contain only characters\"}));}else{seterror(false);seterrormsg(_objectSpread(_objectSpread({},errormsg),{},{lname:\"\"}));}}else if(name===\"email\"){if(!validemail.test(e.target.value.trim())){seterror(true);seterrormsg(_objectSpread(_objectSpread({},errormsg),{},{email:\"enter a valid email\"}));}else{seterror(false);seterrormsg(_objectSpread(_objectSpread({},errormsg),{},{email:\"\"}));}}else if(name===\"phone\"){if(!validphone.test(e.target.value.trim())){seterror(true);seterrormsg(_objectSpread(_objectSpread({},errormsg),{},{phone:\"enter a valid phone\"}));}else{seterror(false);seterrormsg(_objectSpread(_objectSpread({},errormsg),{},{phone:\"\"}));}}else if(name===\"sex\"){if(e.target.value===\"Select Gender\"){seterror(true);seterrormsg(_objectSpread(_objectSpread({},errormsg),{},{sex:\"select gender\"}));}else{seterror(false);seterrormsg(_objectSpread(_objectSpread({},errormsg),{},{sex:\"\"}));}}}else if(step===2){if(name===\"fbook\"){if(!validfbook.test(e.target.value)){seterror(true);seterrormsg(_objectSpread(_objectSpread({},errormsg),{},{fbook:\"enter valid book name\"}));}else{seterror(false);seterrormsg(_objectSpread(_objectSpread({},errormsg),{},{fbook:\"\"}));}}}else if(step===3){if(name===\"author\"){if(e.target.value===\"Select Author\"){seterror(true);seterrormsg(_objectSpread(_objectSpread({},errormsg),{},{author:\"Select Author\"}));}else{seterror(false);seterrormsg(_objectSpread(_objectSpread({},errormsg),{},{author:\"\"}));}}}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"MainpageWrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"innerwrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"formwrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"upperform\",children:step===1?/*#__PURE__*/_jsx(PersonalInfo,{userdetail:userdetail,setuserdetail:setuserdetail,handleInput:handleInput,error:error,errormsg:errormsg}):step===2?/*#__PURE__*/_jsx(FavouriteBooks,{userdetail:userdetail,setuserdetail:setuserdetail,handleInput:handleInput,error:error,errormsg:errormsg}):step===3?/*#__PURE__*/_jsx(Author,{userdetail:userdetail,setuserdetail:setuserdetail,handleInput:handleInput,error:error,errormsg:errormsg}):step===4?/*#__PURE__*/_jsx(Alluserdetail,{userdetail:userdetail,setuserdetail:setuserdetail,handleInput:handleInput}):/*#__PURE__*/_jsx(Saved,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bottomform\",children:[emptyerror?/*#__PURE__*/_jsx(\"div\",{className:\"errorbox\",children:/*#__PURE__*/_jsx(\"span\",{className:\"emptyerror\",children:emptyerror?emptyerror:null})}):null,/*#__PURE__*/_jsx(\"div\",{className:\"pagecount\",children:step!==5?/*#__PURE__*/_jsxs(\"ul\",{className:\"countlist\",children:[/*#__PURE__*/_jsx(\"li\",{className:step===1?\"active\":null,children:\"1\"}),/*#__PURE__*/_jsx(\"li\",{className:step===2?\"active\":null,children:\"2\"}),/*#__PURE__*/_jsx(\"li\",{className:step===3?\"active\":null,children:\"3\"}),/*#__PURE__*/_jsx(\"li\",{className:step===4?\"active\":null,children:\"4\"})]}):null}),/*#__PURE__*/_jsx(\"div\",{className:\"bottombutton\",children:step===5?/*#__PURE__*/_jsx(\"button\",{className:\"prev btn\",disabled:step===1?\"disabled\":null,onClick:function onClick(){setstep(1);},children:\"Home\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"prev btn\",disabled:step===1?\"disabled\":null,onClick:Prevfun,children:\"Previous\"}),/*#__PURE__*/_jsx(\"button\",{className:\"next btn\",onClick:step===4?savefun:Nextfun,children:step===4?\"Confirm & Save\":\"Next\"})]})})]})]})})})]});}","map":{"version":3,"sources":["D:/my project/stepping form/stepform/src/pages/mainpage.jsx"],"names":["React","useEffect","useState","Navbar","PersonalInfo","FavouriteBooks","Author","Alluserdetail","userDataAction","useDispatch","useSelector","Saved","validfname","RegExp","validfbook","validemail","validphone","Mainpage","emptyerror","setemptyerror","Alldata","state","userdata","error","seterror","fname","lname","email","sex","phone","fbook","sbook","tbook","author","errormsg","seterrormsg","dispatch","step","setstep","userdetail","setuserdetail","Nextfun","Prevfun","savefun","handleInput","e","name","target","value","trim","test"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Navbar from \"../components/Navbar/NavBar\";\r\nimport \"./mainpage.css\";\r\nimport PersonalInfo from \"../components/formComponents/PersonalInfo\";\r\nimport FavouriteBooks from \"../components/formComponents/FavouriteBooks\";\r\nimport Author from \"../components/formComponents/Author\";\r\nimport Alluserdetail from \"../components/formComponents/Alluserdetail\";\r\nimport { userDataAction } from \"../redux/action\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Saved from \"../components/formComponents/saved\";\r\n\r\nconst validfname = new RegExp(\"^[A-Za-z]{3,15}$\");\r\nconst validfbook = new RegExp(\"^[A-Z0-9a-z]{3,15}$\");\r\nconst validemail = new RegExp(\"^[a-zA-Z0-9+_.-]+@[a-zA-Z0-9.-]+$\");\r\nconst validphone = new RegExp(\r\n  `^[\\+]?[(]?[0-9]{3}[)]?[-\\s\\.]?[0-9]{3}[-\\s\\.]?[0-9]{4,6}$`\r\n);\r\n\r\nexport default function Mainpage() {\r\n  const [emptyerror, setemptyerror] = useState(\"\");\r\n  const Alldata = useSelector((state) => state.userdata);\r\n  const [error, seterror] = useState(false);\r\n  const [errormsg, seterrormsg] = useState({\r\n    fname: \"\",\r\n    lname: \"\",\r\n    email: \"\",\r\n    sex: \"\",\r\n    phone: \"\",\r\n    fbook: \"\",\r\n    sbook: \"\",\r\n    tbook: \"\",\r\n    author: \"\",\r\n  });\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const [step, setstep] = useState(1);\r\n  const [userdetail, setuserdetail] = useState({\r\n    fname: \"\",\r\n    lname: \"\",\r\n    email: \"\",\r\n    sex: \"Select Gender\",\r\n    phone: \"\",\r\n    fbook: \"\",\r\n    sbook: \"\",\r\n    tbook: \"\",\r\n    author: \"Select Author\",\r\n  });\r\n  const Nextfun = () => {\r\n    if (emptyerror) {\r\n      setemptyerror(\"\");\r\n    }\r\n    if (step === 1) {\r\n      if (\r\n        !userdetail.fname ||\r\n        !userdetail.lname ||\r\n        !userdetail.email ||\r\n        !userdetail.phone\r\n      ) {\r\n        setemptyerror(\"Fields cannot be empty\");\r\n      } else if (userdetail.sex === \"Select Gender\") {\r\n        seterror(true);\r\n        seterrormsg({ ...errormsg, sex: \"Select gender\" });\r\n      } else {\r\n        if (!error) {\r\n          if (step < 5) {\r\n            setstep(step + 1);\r\n          }\r\n        }\r\n      }\r\n    } else if (step === 2) {\r\n      if (!userdetail.fbook) {\r\n        setemptyerror(\"Fields cannot be empty\");\r\n      } else {\r\n        if (!error) {\r\n          if (step < 5) {\r\n            setstep(step + 1);\r\n          }\r\n        }\r\n      }\r\n    }else if (step === 3) {\r\n        if (userdetail.author === \"Select Author\") {\r\n        seterror(true);\r\n        seterrormsg({ ...errormsg, author: \"Select Author\" });\r\n      } else {\r\n        if (!error) {\r\n          if (step < 5) {\r\n            setstep(step + 1);\r\n          }\r\n        }\r\n      }\r\n    }\r\n     else {\r\n      if (!error) {\r\n        if (step < 5) {\r\n          setstep(step + 1);\r\n        }\r\n      }\r\n    }\r\n  };\r\n  const Prevfun = () => {\r\n    if (error) {\r\n      seterror(false);\r\n    }\r\n    if (step > 1) {\r\n      setstep(step - 1);\r\n    }\r\n  };\r\n  const savefun = () => {\r\n    dispatch(userDataAction(userdetail));\r\n    setstep(5);\r\n    setuserdetail({\r\n      fname: \"\",\r\n      lname: \"\",\r\n      email: \"\",\r\n      sex: \"Select Gender\",\r\n      phone: \"\",\r\n      fbook: \"\",\r\n      sbook: \"\",\r\n      tbook: \"\",\r\n      author: \"Select Author\",\r\n    });\r\n  };\r\n  const handleInput = (e) => {\r\n    const name = e.target.name;\r\n    if (emptyerror) {\r\n      setemptyerror(\"\");\r\n    }\r\n    if (name === \"fbook\" || name === \"tbook\" || name === \"tbook\") {\r\n      const value = e.target.value;\r\n      setuserdetail({ ...userdetail, [name]: value });\r\n    } else {\r\n      const value = e.target.value.trim();\r\n      setuserdetail({ ...userdetail, [name]: value });\r\n    }\r\n\r\n    if (step === 1) {\r\n      if (name === \"fname\") {\r\n        if (!validfname.test(e.target.value.trim())) {\r\n          seterror(true);\r\n          seterrormsg({\r\n            ...errormsg,\r\n            fname:\r\n              \"Must be at least 3 character long and contain only characters\",\r\n          });\r\n        } else {\r\n          seterror(false);\r\n          seterrormsg({ ...errormsg, fname: \"\" });\r\n        }\r\n      } else if (name === \"lname\") {\r\n        if (!validfname.test(e.target.value.trim())) {\r\n          seterror(true);\r\n          seterrormsg({\r\n            ...errormsg,\r\n            lname:\r\n              \"Must be at least 3 character long and contain only characters\",\r\n          });\r\n        } else {\r\n          seterror(false);\r\n          seterrormsg({ ...errormsg, lname: \"\" });\r\n        }\r\n      } else if (name === \"email\") {\r\n        if (!validemail.test(e.target.value.trim())) {\r\n          seterror(true);\r\n          seterrormsg({ ...errormsg, email: \"enter a valid email\" });\r\n        } else {\r\n          seterror(false);\r\n          seterrormsg({ ...errormsg, email: \"\" });\r\n        }\r\n      } else if (name === \"phone\") {\r\n        if (!validphone.test(e.target.value.trim())) {\r\n          seterror(true);\r\n          seterrormsg({ ...errormsg, phone: \"enter a valid phone\" });\r\n        } else {\r\n          seterror(false);\r\n          seterrormsg({ ...errormsg, phone: \"\" });\r\n        }\r\n      } else if (name === \"sex\") {\r\n        if (e.target.value === \"Select Gender\") {\r\n          seterror(true);\r\n          seterrormsg({ ...errormsg, sex: \"select gender\" });\r\n        } else {\r\n          seterror(false);\r\n          seterrormsg({ ...errormsg, sex: \"\" });\r\n        }\r\n      }\r\n    } else if (step === 2) {\r\n      if (name === \"fbook\") {\r\n        if (!validfbook.test(e.target.value)) {\r\n          seterror(true);\r\n          seterrormsg({ ...errormsg, fbook: \"enter valid book name\" });\r\n        } else {\r\n          seterror(false);\r\n          seterrormsg({ ...errormsg, fbook: \"\" });\r\n        }\r\n      }\r\n    } else if (step === 3) {\r\n      if (name === \"author\") {\r\n        if (e.target.value === \"Select Author\") {\r\n          seterror(true);\r\n          seterrormsg({ ...errormsg, author: \"Select Author\" });\r\n        } else {\r\n          seterror(false);\r\n          seterrormsg({ ...errormsg, author: \"\" });\r\n        }\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <div className='MainpageWrapper'>\r\n        <div className='innerwrapper'>\r\n          <div className='formwrapper'>\r\n            <div className='upperform'>\r\n              {step === 1 ? (\r\n                <PersonalInfo\r\n                  userdetail={userdetail}\r\n                  setuserdetail={setuserdetail}\r\n                  handleInput={handleInput}\r\n                  error={error}\r\n                  errormsg={errormsg}\r\n                />\r\n              ) : step === 2 ? (\r\n                <FavouriteBooks\r\n                  userdetail={userdetail}\r\n                  setuserdetail={setuserdetail}\r\n                  handleInput={handleInput}\r\n                  error={error}\r\n                  errormsg={errormsg}\r\n                />\r\n              ) : step === 3 ? (\r\n                <Author\r\n                  userdetail={userdetail}\r\n                  setuserdetail={setuserdetail}\r\n                  handleInput={handleInput}\r\n                  error={error}\r\n                  errormsg={errormsg}\r\n                />\r\n              ) : step === 4 ? (\r\n                <Alluserdetail\r\n                  userdetail={userdetail}\r\n                  setuserdetail={setuserdetail}\r\n                  handleInput={handleInput}\r\n                />\r\n              ) : (\r\n                <Saved />\r\n              )}\r\n            </div>\r\n            <div className='bottomform'>\r\n            {emptyerror?<div className=\"errorbox\">   \r\n      <span className=\"emptyerror\">{emptyerror ? emptyerror : null}</span>\r\n              </div>:null}\r\n              <div className='pagecount'>\r\n                {step !== 5 ? (\r\n                  <ul className='countlist'>\r\n                    <li className={step === 1 ? \"active\" : null}>1</li>\r\n                    <li className={step === 2 ? \"active\" : null}>2</li>\r\n                    <li className={step === 3 ? \"active\" : null}>3</li>\r\n                    <li className={step === 4 ? \"active\" : null}>4</li>\r\n                  </ul>\r\n                ) : null}\r\n              </div>\r\n              \r\n              <div className='bottombutton'>\r\n                {step === 5 ? (\r\n                  <button\r\n                    className='prev btn'\r\n                    disabled={step === 1 ? \"disabled\" : null}\r\n                    onClick={() => {\r\n                      setstep(1);\r\n                    }}>\r\n                    Home\r\n                  </button>\r\n                ) : (\r\n                  <>\r\n                    <button\r\n                      className='prev btn'\r\n                      disabled={step === 1 ? \"disabled\" : null}\r\n                      onClick={Prevfun}>\r\n                      Previous\r\n                    </button>\r\n                    <button\r\n                      className='next btn'\r\n                      onClick={step === 4 ? savefun : Nextfun}>\r\n                      {step === 4 ? \"Confirm & Save\" : \"Next\"}\r\n                    </button>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}